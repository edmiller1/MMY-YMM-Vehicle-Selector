{"ast":null,"code":"import _regeneratorRuntime from\"/Users/edwardmiller/Documents/GitHub/MMY-YMM-Vehicle-Selector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/edwardmiller/Documents/GitHub/MMY-YMM-Vehicle-Selector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/edwardmiller/Documents/GitHub/MMY-YMM-Vehicle-Selector/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useData}from\"./util/useData\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Selector=function Selector(){var currentCarMake=\"\";var _useData=useData(),years=_useData.years,carMakes=_useData.carMakes,carModels=_useData.carModels,setCarModels=_useData.setCarModels,fetchYears=_useData.fetchYears,fetchCarMakes=_useData.fetchCarMakes,fetchCarModels=_useData.fetchCarModels;//State\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),isSwitched=_useState2[0],setIsSwitched=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isYearDisabled=_useState4[0],setIsYearDisabled=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isMakeDisabled=_useState6[0],setIsMakeDisabled=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),isModelDisabled=_useState8[0],setIsModelDisabled=_useState8[1];//Functions\n//Switches UI from YMM to MMY\nvar switchUi=function switchUi(){console.log(\"isSwitched: \",isSwitched);setIsSwitched(!isSwitched);setCarModels([]);if(isSwitched===true){setIsYearDisabled(true);setIsModelDisabled(true);}};var changeIsYearDisabled=function changeIsYearDisabled(){setIsYearDisabled(false);};//Changes the Make select tag to enabled\nvar changeIsMakeDisabled=function changeIsMakeDisabled(){setIsMakeDisabled(false);};//Changes the Model select tag to enabled\nvar changeIsModelDisabled=function changeIsModelDisabled(){setIsModelDisabled(false);};//Fills the Model select tag with the model data based on the current Make selected\nvar fillCarModels=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:currentCarMake=e.target.value;_context.next=3;return fetchCarModels(currentCarMake);case 3:changeIsModelDisabled();setTimeout(function(){changeIsYearDisabled();},1500);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fillCarModels(_x){return _ref.apply(this,arguments);};}();//Fetches the Years and Car Manufacturers\nuseEffect(function(){fetchYears();fetchCarMakes();});/* \n    Checks whether the model array contains only 1 element. If so then it auto selects the model of vehicle.\n    If not then it will just show the models of the vehicle make chosen.\n  */var modelLength=carModels.length===1?/*#__PURE__*/_jsxs(\"select\",{className:\"w-40 border-2 border-gray-400 py-2 rounded-lg mx-5\",children:[/*#__PURE__*/_jsx(\"option\",{defaultValue:true,hidden:true,children:\"Model\"}),carModels.map(function(m){return/*#__PURE__*/_jsx(\"option\",{value:m.id,selected:true,children:m.name},m.id);})]}):/*#__PURE__*/_jsxs(\"select\",{disabled:isModelDisabled,className:\"w-40 border-2 border-gray-400 py-2 rounded-lg mx-5\",children:[/*#__PURE__*/_jsx(\"option\",{defaultValue:true,hidden:true,children:\"Model\"}),carModels.map(function(m){return/*#__PURE__*/_jsx(\"option\",{value:m.id,children:m.name},m.id);})]});/*\n    Displays the UI as YMM or MMY depending on the truthy value 'isSwitched'\n  */var switchedUI=isSwitched?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"select\",{onChange:changeIsMakeDisabled,className:\"w-40 border-2 border-gray-400 py-2 rounded-lg mx-5\",children:[/*#__PURE__*/_jsx(\"option\",{defaultValue:true,hidden:true,children:\"Year\"}),years.map(function(y){return/*#__PURE__*/_jsx(\"option\",{children:y.id},y.id);})]}),/*#__PURE__*/_jsxs(\"select\",{disabled:isMakeDisabled,onChange:function onChange(e){return fillCarModels(e);},className:\"w-40 border-2 border-gray-400 py-2 rounded-lg mx-5\",children:[/*#__PURE__*/_jsx(\"option\",{hidden:true,children:\"Make\"}),carMakes.map(function(m){return/*#__PURE__*/_jsx(\"option\",{value:m.id,children:m.name},m.id);})]}),modelLength]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return fillCarModels(e);},className:\"w-40 border-2 border-gray-400 py-2 rounded-lg mx-5\",children:[/*#__PURE__*/_jsx(\"option\",{hidden:true,children:\"Make\"}),carMakes.map(function(m){return/*#__PURE__*/_jsx(\"option\",{value:m.id,children:m.name},m.id);})]}),modelLength,/*#__PURE__*/_jsxs(\"select\",{disabled:isYearDisabled,className:\"w-40 border-2 border-gray-400 py-2 rounded-lg mx-5\",children:[/*#__PURE__*/_jsx(\"option\",{defaultValue:true,hidden:true,children:\"Year\"}),years.map(function(y){return/*#__PURE__*/_jsx(\"option\",{children:y.id},y.id);})]})]});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"flex justify-center mb-20 text-5xl\",children:\"\\uD83D\\uDD0D MMY/YMM Vehicle Selector\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"mb-5 font-bold text-xl\",children:\"Choose your vehicle\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[switchedUI,/*#__PURE__*/_jsx(\"button\",{onClick:switchUi,className:\"bg-indigo-700 text-white px-3 py-2 rounded-lg hover:bg-indigo-600 transition-all\",children:\"Switch\"})]})]});};","map":{"version":3,"sources":["/Users/edwardmiller/Documents/GitHub/MMY-YMM-Vehicle-Selector/src/Selector.js"],"names":["React","useEffect","useState","useData","Selector","currentCarMake","years","carMakes","carModels","setCarModels","fetchYears","fetchCarMakes","fetchCarModels","isSwitched","setIsSwitched","isYearDisabled","setIsYearDisabled","isMakeDisabled","setIsMakeDisabled","isModelDisabled","setIsModelDisabled","switchUi","console","log","changeIsYearDisabled","changeIsMakeDisabled","changeIsModelDisabled","fillCarModels","e","target","value","setTimeout","modelLength","length","map","m","id","name","switchedUI","y"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useData } from \"./util/useData\";\n\nexport const Selector = () => {\n  let currentCarMake = \"\";\n  const {\n    years,\n    carMakes,\n    carModels,\n    setCarModels,\n    fetchYears,\n    fetchCarMakes,\n    fetchCarModels,\n  } = useData();\n\n  //State\n  const [isSwitched, setIsSwitched] = useState(false);\n  const [isYearDisabled, setIsYearDisabled] = useState(true);\n  const [isMakeDisabled, setIsMakeDisabled] = useState(true);\n  const [isModelDisabled, setIsModelDisabled] = useState(true);\n\n  //Functions\n\n  //Switches UI from YMM to MMY\n  const switchUi = () => {\n    console.log(\"isSwitched: \", isSwitched);\n    setIsSwitched(!isSwitched);\n    setCarModels([]);\n    if (isSwitched === true) {\n      setIsYearDisabled(true);\n      setIsModelDisabled(true);\n    }\n  };\n\n  const changeIsYearDisabled = () => {\n    setIsYearDisabled(false);\n  };\n\n  //Changes the Make select tag to enabled\n  const changeIsMakeDisabled = () => {\n    setIsMakeDisabled(false);\n  };\n\n  //Changes the Model select tag to enabled\n  const changeIsModelDisabled = () => {\n    setIsModelDisabled(false);\n  };\n\n  //Fills the Model select tag with the model data based on the current Make selected\n  const fillCarModels = async (e) => {\n    currentCarMake = e.target.value;\n    await fetchCarModels(currentCarMake);\n    changeIsModelDisabled();\n    setTimeout(() => {\n      changeIsYearDisabled();\n    }, 1500);\n  };\n\n  //Fetches the Years and Car Manufacturers\n  useEffect(() => {\n    fetchYears();\n    fetchCarMakes();\n  });\n\n  /* \n    Checks whether the model array contains only 1 element. If so then it auto selects the model of vehicle.\n    If not then it will just show the models of the vehicle make chosen.\n  */\n  const modelLength =\n    carModels.length === 1 ? (\n      <select className=\"w-40 border-2 border-gray-400 py-2 rounded-lg mx-5\">\n        <option defaultValue hidden>\n          Model\n        </option>\n        {carModels.map((m) => (\n          <option key={m.id} value={m.id} selected>\n            {m.name}\n          </option>\n        ))}\n      </select>\n    ) : (\n      <select\n        disabled={isModelDisabled}\n        className=\"w-40 border-2 border-gray-400 py-2 rounded-lg mx-5\"\n      >\n        <option defaultValue hidden>\n          Model\n        </option>\n        {carModels.map((m) => (\n          <option key={m.id} value={m.id}>\n            {m.name}\n          </option>\n        ))}\n      </select>\n    );\n\n  /*\n    Displays the UI as YMM or MMY depending on the truthy value 'isSwitched'\n  */\n  const switchedUI = isSwitched ? (\n    <div>\n      <select\n        onChange={changeIsMakeDisabled}\n        className=\"w-40 border-2 border-gray-400 py-2 rounded-lg mx-5\"\n      >\n        <option defaultValue hidden>\n          Year\n        </option>\n        {years.map((y) => (\n          <option key={y.id}>{y.id}</option>\n        ))}\n      </select>\n      <select\n        disabled={isMakeDisabled}\n        onChange={(e) => fillCarModels(e)}\n        className=\"w-40 border-2 border-gray-400 py-2 rounded-lg mx-5\"\n      >\n        <option hidden>Make</option>\n        {carMakes.map((m) => (\n          <option value={m.id} key={m.id}>\n            {m.name}\n          </option>\n        ))}\n      </select>\n      {modelLength}\n    </div>\n  ) : (\n    <div>\n      <select\n        onChange={(e) => fillCarModels(e)}\n        className=\"w-40 border-2 border-gray-400 py-2 rounded-lg mx-5\"\n      >\n        <option hidden>Make</option>\n        {carMakes.map((m) => (\n          <option value={m.id} key={m.id}>\n            {m.name}\n          </option>\n        ))}\n      </select>\n      {modelLength}\n      <select\n        disabled={isYearDisabled}\n        className=\"w-40 border-2 border-gray-400 py-2 rounded-lg mx-5\"\n      >\n        <option defaultValue hidden>\n          Year\n        </option>\n        {years.map((y) => (\n          <option key={y.id}>{y.id}</option>\n        ))}\n      </select>\n    </div>\n  );\n\n  return (\n    <div>\n      <h1 className=\"flex justify-center mb-20 text-5xl\">\n        🔍 MMY/YMM Vehicle Selector\n      </h1>\n      <div className=\"ml-5\">\n        <h1 className=\"mb-5 font-bold text-xl\">Choose your vehicle</h1>\n      </div>\n      <div className=\"flex\">\n        {switchedUI}\n        <button\n          onClick={switchUi}\n          className=\"bg-indigo-700 text-white px-3 py-2 rounded-lg hover:bg-indigo-600 transition-all\"\n        >\n          Switch\n        </button>\n      </div>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}