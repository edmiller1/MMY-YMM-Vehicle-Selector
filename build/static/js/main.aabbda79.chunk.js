(this["webpackJsonpvehicle-selector"]=this["webpackJsonpvehicle-selector"]||[]).push([[0],{11:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(5),s=n.n(a),i=(n(11),n(4)),d=n.n(i),o=n(6),l=n(2),u=function(e,t){return fetch("https://api.partly.com/node-api/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,variables:t})}).then((function(e){return e.json()}))},b=n(0),h=function(){var e="",t=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),s=Object(l.a)(a,2),i=s[0],d=s[1],o=Object(c.useState)([]),b=Object(l.a)(o,2),h=b[0],j=b[1];return{years:n,carMakes:i,carModels:h,setCarModels:j,fetchYears:function(){u("query {\n      uvdb {\n        search_uvdb_years {\n          items {\n            id\n          }\n        }\n      }\n    }").then((function(e){r(e.data.uvdb.search_uvdb_years.items)}))},fetchCarMakes:function(){u("query {\n      uvdb {\n        search_uvdb_makes(limit: 534) {\n          items {\n            id\n            name\n          }\n        }\n      }\n    }").then((function(e){d(e.data.uvdb.search_uvdb_makes.items)}))},fetchCarModels:function(e){u("  query getModels($makeId: ID!) {\n      uvdb {\n        search_uvdb_models(uvdb_make_id: $makeId ) {\n          items {\n            id\n            name\n          }\n        }\n      }\n    }",{makeId:e}).then((function(e){j(e.data.uvdb.search_uvdb_models.items)}))}}}(),n=t.years,r=t.carMakes,a=t.carModels,s=t.setCarModels,i=t.fetchYears,h=t.fetchCarMakes,j=t.fetchCarModels,m=Object(c.useState)(!1),f=Object(l.a)(m,2),O=f[0],x=f[1],p=Object(c.useState)(!0),v=Object(l.a)(p,2),g=v[0],y=v[1],M=Object(c.useState)(!0),k=Object(l.a)(M,2),C=k[0],S=k[1],_=Object(c.useState)(!0),w=Object(l.a)(_,2),N=w[0],I=w[1],Y=function(){var t=Object(o.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.target.value,t.next=3,j(e);case 3:I(!1),setTimeout((function(){y(!1)}),1500);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){i(),h()}),[]);var q=1===a.length?Object(b.jsxs)("select",{className:"w-40 border-2 border-gray-400 py-2 rounded-lg mx-5",children:[Object(b.jsx)("option",{defaultValue:!0,hidden:!0,children:"Model"}),a.map((function(e){return Object(b.jsx)("option",{value:e.id,selected:!0,children:e.name},e.id)}))]}):Object(b.jsxs)("select",{disabled:N,className:"w-40 border-2 border-gray-400 py-2 rounded-lg mx-5",children:[Object(b.jsx)("option",{defaultValue:!0,hidden:!0,children:"Model"}),a.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),T=O?Object(b.jsxs)("div",{children:[Object(b.jsxs)("select",{onChange:function(){S(!1)},className:"w-40 border-2 border-gray-400 py-2 rounded-lg mx-5",children:[Object(b.jsx)("option",{defaultValue:!0,hidden:!0,children:"Year"}),n.map((function(e){return Object(b.jsx)("option",{children:e.id},e.id)}))]}),Object(b.jsxs)("select",{disabled:C,onChange:function(e){return Y(e)},className:"w-40 border-2 border-gray-400 py-2 rounded-lg mx-5",children:[Object(b.jsx)("option",{hidden:!0,children:"Make"}),r.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),q]}):Object(b.jsxs)("div",{children:[Object(b.jsxs)("select",{onChange:function(e){return Y(e)},className:"w-40 border-2 border-gray-400 py-2 rounded-lg mx-5",children:[Object(b.jsx)("option",{hidden:!0,children:"Make"}),r.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),q,Object(b.jsxs)("select",{disabled:g,className:"w-40 border-2 border-gray-400 py-2 rounded-lg mx-5",children:[Object(b.jsx)("option",{defaultValue:!0,hidden:!0,children:"Year"}),n.map((function(e){return Object(b.jsx)("option",{children:e.id},e.id)}))]})]});return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:"flex justify-center mb-20 text-5xl",children:"\ud83d\udd0d MMY/YMM Vehicle Selector"}),Object(b.jsx)("div",{className:"ml-5",children:Object(b.jsx)("h1",{className:"mb-5 font-bold text-xl",children:"Choose your vehicle"})}),Object(b.jsxs)("div",{className:"flex",children:[T,Object(b.jsx)("button",{onClick:function(){console.log("isSwitched: ",O),x(!O),s([]),!0===O&&(y(!0),I(!0))},className:"bg-indigo-700 text-white px-3 py-2 rounded-lg hover:bg-indigo-600 transition-all",children:"Switch"})]})]})};var j=function(){return Object(b.jsx)("div",{className:"flex justify-center items-center",style:{height:"100vh"},children:Object(b.jsx)(h,{})})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(j,{})}),document.getElementById("root")),m()}},[[14,1,2]]]);
//# sourceMappingURL=main.aabbda79.chunk.js.map